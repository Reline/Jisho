CREATE TABLE IF NOT EXISTS Field(
    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    value TEXT NOT NULL UNIQUE ON CONFLICT IGNORE
);

insertField:
INSERT INTO Field (value)
VALUES (?);

rowid:
SELECT
CASE
WHEN (SELECT 1 FROM Field WHERE value = :field) == 1 THEN
    (SELECT id FROM Field WHERE value = :field)
ELSE
    (SELECT last_insert_rowid())
END;